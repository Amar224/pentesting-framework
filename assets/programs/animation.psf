#!/usr/bin/bash

G2="\e[1;92m"
R0="\e[0m"

unset progress

__loading__()
{
sleep 2
}

__sw__()
{
sleep 0.01
}

__sw2__()
{
sleep 0.02
}

__rsw__()
{
s=$(shuf -i 0-3 -n 1)
if [[ $s == 0 ]]
then
s=1
fi

sleep ${s}
}

__wait__()
{
sleep $1
}

__hide__()
{
printf "\r                                                   \r"
}

__print__()
{
printf "$1\n"
}

text-animation()
{
str="${@:2}"

while [ ${#str} -gt 0 ]; do
    next=${str#?}
    printf "${str%$next}"
    str=$next
    sleep $1
done
echo
}

progress-bar()
{

TEXT=$2
progress()
{
	printf "\r${R0}•••${R0} $TEXT"
  sleep 0.20
  printf "\r${R0}${G2}⦁${R0}•• $TEXT"
  sleep 0.10
  printf "\r${R0}•${G2}⦁${R0}• $TEXT"
  sleep 0.10
  printf "\r${R0}••${G2}⦁${R0} $TEXT"
  sleep 0.10
  printf "\r${R0}•••${R0} $TEXT"
  sleep 0.20
}

spinner() {
local pid=$!
local delay=0.0350

while [ "$(ps a | awk '{print $1}' | grep $pid)" ]; do
for progressbar in progress
do
  ${progressbar[@]} #printf $((progressbar))
	sleep $delay
done
done
}

( $1 ) &> /dev/null & spinner

if [[ $3 == "-r" ]]
then
printf "\r                                                   \r"
else
printf "\r${b0SIGN} $TEXT\n"
fi
}

#( sleep 4 ) &> /dev/null & spinner "Wait..."

